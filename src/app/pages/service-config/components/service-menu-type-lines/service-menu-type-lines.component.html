<div class="card">
  <div class="card-header">
    <h4 class="card-title">Menus</h4>
  </div>
  <div class="card-content">
    <div class="card-body">
      <form [formGroup]="form">
        <div formArrayName="menus">
          <div
            *ngFor="let d of menus().controls; let i = index"
            [formGroupName]="i"
            class="border-bottom border-primary"
          >
            <div class="form-row">
              <div class="offset-md-9 col-md-3">
                <p class="float-right font-small-3">Menu {{ i + 1 }}</p>
              </div>
            </div>
            <div class="form-row">
              <div class="col-md-4 col-12 form-group mb-2">
                <label for="serviceTypeHeader">Service Type </label>
                <ng-select
                  [items]="serviceTypes"
                  bindLabel="name"
                  bindValue="id"
                  [searchable]="true"
                  formControlName="serviceTypeHeader"
                  [ngClass]="{
                    'is-invalid': menus().controls[i].get('serviceTypeHeader').errors && submitted
                  }"
                >
                </ng-select>

                <div
                  class="invalid-feedback"
                  *ngIf="menus().controls[i].get('serviceTypeHeader').errors?.required && submitted"
                >
                  Please select Service Type
                </div>
              </div>
              <div class="col-6 col-md-2 form-group mb-2">
                <label for="startDate">Start Date</label>
                <input
                  type="date"
                  id="startDate"
                  class="form-control square"
                  name="startDate"
                  placeholder="Enter Start Date"
                  formControlName="startDate"
                  [ngClass]="{
                    'is-invalid': menus().controls[i].get('startDate').errors && submitted
                  }"
                />
                <div
                  class="invalid-feedback"
                  *ngIf="menus().controls[i].get('startDate').errors?.required && submitted"
                >
                  Please Select Start Date
                </div>
              </div>
              <div class="col-6 col-md-2 form-group mb-2">
                <label for="endDate">End Date</label>
                <input
                  type="date"
                  id="endDate"
                  class="form-control square"
                  name="endDate"
                  placeholder="Enter End Date"
                  formControlName="endDate"
                  [ngClass]="{
                    'is-invalid': menus().controls[i].get('endDate').errors && submitted
                  }"
                />
                <div class="invalid-feedback" *ngIf="menus().controls[i].get('endDate').errors?.required && submitted">
                  Please Select End Date
                </div>
              </div>
              <div class="col-md-2 col-4 form-group mb-2">
                <label for="status">Status</label>
                <select
                  id="status"
                  name="status"
                  class="form-control square"
                  formControlName="status"
                  [ngClass]="{
                    'is-invalid': menus().controls[i].get('status').errors && submitted
                  }"
                >
                  <!-- <option value="">Choose</option> -->
                  <option value="Active">Active</option>
                  <option value="InActive">InActive</option>
                </select>
                <div class="invalid-feedback" *ngIf="menus().controls[i].get('endDate').errors?.required && submitted">
                  Please Select Status
                </div>
              </div>
              <div class="form-group col-2 col-md-2 mt-3">
                <button (click)="add()" type="button" class="btn mt-1 p-0 float-right">
                  <i class="ft-plus-circle" aria-hidden="true" style="font-size: 28px"></i>
                </button>
                <button (click)="remove(i)" type="button" class="btn p-0 mx-3 mt-1 float-right">
                  <i class="ft-minus-circle" aria-hidden="true" style="font-size: 28px"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="form-row mt-2">
          <div class="offset-md-9 col-md-3 mb-2">
            <button type="button" (click)="onSubmit()" class="btn btn-primary square mr-2 float-right">
              <i class="ft-check-square mr-1"></i>
              Submit
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
